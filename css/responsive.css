/* =========================================
   RESPONSIVE STYLES (FIXED MOBILE)
   ========================================= */

/* --- TABLET & LAPTOP NHỎ (1024px trở xuống) --- */
@media (max-width: 1024px) {
    .container { max-width: 960px; }

    /* Grid sách: 3 cột */
    .books-grid { grid-template-columns: repeat(3, 1fr); gap: 20px; }

    /* Grid Danh mục: 2 cột */
    .categories-banner-grid { grid-template-columns: repeat(2, 1fr); gap: 20px; }
    .category-banner { height: 300px; }

    /* Footer: 2 cột */
    .footer-grid { grid-template-columns: 1fr 1fr; gap: 30px; }
    
    /* --- FIX LỖI KHÔNG BẤM ĐƯỢC NÚT TRÊN TABLET --- */
    .book-card { height: auto !important; }
    .book-content { height: auto !important; padding-bottom: 60px !important; }
    
    .book-actions {
        opacity: 1 !important;
        transform: translateY(0) !important;
        visibility: visible !important;
        background: none !important;
        backdrop-filter: none !important;
        padding: 0 15px 15px 15px !important;
    }
}

/* --- TABLET DỌC & MOBILE LỚN (768px trở xuống) --- */
@media (max-width: 768px) {
    .container { max-width: 720px; }

    .header-top { flex-wrap: wrap; padding: 10px 0; }
    .logo { flex: 1; }
    .menu-toggle { display: block; font-size: 22px; }

    .search-box { order: 3; flex: 0 0 100%; max-width: 100%; margin-top: 15px; }

    .header-actions { gap: 15px; }
    .btn-login span, .btn-register span { display: none; }

    /* NAVBAR MOBILE */
    .navbar {
        display: none; position: absolute; top: 100%; left: 0; width: 100%;
        background-color: white; box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        padding: 0; z-index: 999; border-top: 1px solid #eee;
    }
    .navbar.active { display: block; animation: slideDown 0.3s ease; }

    .nav-menu { flex-direction: column; gap: 0; }
    .nav-menu > li > a { padding: 15px 20px; border-bottom: 1px solid #f5f5f5; font-size: 16px; }
    .nav-menu > li > a::after { display: none; }

    /* Dropdown Mobile */
    .dropdown-menu {
        position: static; opacity: 1; visibility: visible; transform: none;
        box-shadow: none; background-color: #f9f9f9; display: none; padding-left: 20px;
    }
    .dropdown.active .dropdown-menu { display: block; }

    .banner-slider { height: 300px; }
    .banner-content { left: 30px; max-width: 80%; }
    .banner-content h2 { font-size: 28px; }
    .category-page-header { padding: 40px 0 !important; }
    #category-title { font-size: 28px !important; }
}

/* --- MOBILE NHỎ (576px trở xuống) --- */
@media (max-width: 576px) {
    .categories-banner-grid { grid-template-columns: 1fr; }
    .category-banner { height: 250px; }

    /* Grid sách 2 cột giống Shopee */
    .books-grid { grid-template-columns: repeat(2, 1fr); gap: 10px; }

    .book-image { height: 180px; padding: 10px; }
    
    /* --- FIX LỖI KHÔNG BẤM ĐƯỢC NÚT (MOBILE) --- */
    /* Buộc nội dung thẻ sách tự giãn cao theo nội dung */
    .book-content { 
        height: auto !important; 
        padding: 10px !important; 
        display: flex;
        flex-direction: column;
    }
    
    .book-title { font-size: 14px; height: 40px; -webkit-line-clamp: 2; margin-bottom: 5px; }
    .book-author { font-size: 12px; display: none; /* Ẩn tác giả trên mobile cho gọn */ }
    
    .book-price { margin-top: auto; margin-bottom: 10px; }
    .current-price { font-size: 15px; }
    .original-price { font-size: 11px; }

    /* Biến nút thành static (nằm cố định dưới giá tiền) */
    .book-actions {
        position: static !important; /* Không trôi lơ lửng nữa */
        opacity: 1 !important;
        transform: none !important;
        padding: 0 !important;
        display: flex !important;
        gap: 5px;
        background: transparent !important;
        backdrop-filter: none;
    }

    /* Thu nhỏ nút trên mobile */
    .btn-add-cart, .btn-detail {
        padding: 6px 0 !important; /* Giảm padding */
        font-size: 11px !important;
        border-radius: 6px !important;
    }
    
    /* Ẩn chữ "Thêm giỏ", chỉ hiện Icon để đỡ chật */
    .btn-add-cart { font-size: 0 !important; } /* Ẩn chữ */
    .btn-add-cart i { font-size: 14px !important; margin: 0 !important; } /* Hiện icon to ra */
    .btn-detail { display: none !important; } /* Ẩn nút chi tiết, bấm vào hình là được */
    .btn-add-cart { width: 100%; display: block; } /* Nút thêm giỏ full chiều ngang */

    /* Footer */
    .footer-grid { grid-template-columns: 1fr; gap: 30px; text-align: center; }
    .footer h3 { border-left: none; padding-left: 0; margin-bottom: 15px; }
    .contact-info li, .social-links { justify-content: center; }

    .promotion-grid { grid-template-columns: 1fr; }
    .section-title { font-size: 24px; margin-bottom: 30px; }
    .filter-sort { width: 100%; margin-top: 10px; }
    .filter-sort select { width: 100%; }
}

@keyframes slideDown {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}